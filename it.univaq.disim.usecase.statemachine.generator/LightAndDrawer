event: lightOn., "L1ON"
event: panelClosed., "PNCL"
event: lightOn., "L1ON"
event: drawreOpened., "D2OP"
event: drawerOpened., "D2OP"
event: panelClosed., ""

command: lockDoor., "D1LK"
command: unlockedPanel., "PNUL"
command: lookedPanel., "PNLK"
command: unlockDoor., "D1UL"

resetEvents: :panelClosed :panelClosed 
state :idle do
	actions: :unlockDoor,:lookedPanel
	transition :panelClosed => active
end

state :active do
	actions: 
	transition :lightOn => waitingForDrawer,:drawerOpened => waitingForLight
end

state :waitingForDrawer do
	actions: 
	transition :drawreOpened => unlockedPanel
end

state :waitingForLight do
	actions: 
	transition :lightOn => unlockedPanel
end

state :unlockedPanel do
	actions: :unlockedPanel,:lockDoor
	transition :panelClosed => idle
end


